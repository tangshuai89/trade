(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{ydeA:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var antd_es_row_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("mZxn"),antd_es_row__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("S7b9"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("Z32k"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("JGaj"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__),antd_es_button_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("zI7Q"),antd_es_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("SCaQ"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("maMK"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ERkP"),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),dva__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("mTBN"),dva__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_8__),_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("1Pzi"),_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("OZ92"),_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("967Y"),_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("dul+"),_hooks_Table__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("vc7k"),umi__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("st+D"),_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("SyEI"),_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("zUz/"),Index=function Index(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(!1),_useState2=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState,2),deleteVisible=_useState2[0],setDeleteVisible=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])([]),_useState4=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState3,2),selectedRowKeys=_useState4[0],setSelectedRowKeys=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])((new Date).valueOf()),_useState6=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState5,2),searchTimeStamp=_useState6[0],setSearchTimeStamp=_useState6[1],_usePageInfoCache=Object(_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_16__["a"])(),cachePage=_usePageInfoCache.cachePage,cachePageSize=_usePageInfoCache.cachePageSize,getCacheSearchValue=_usePageInfoCache.getCacheSearchValue,setCache=_usePageInfoCache.setCache,_useState7=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(cachePage),_useState8=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState7,2),page=_useState8[0],setPage=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(cachePageSize),_useState10=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState9,2),pageSize=_useState10[0],setPageSize=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_7__["useState"])(getCacheSearchValue("name__icontains",void 0)),_useState12=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState11,2),name__icontains=_useState12[0],setName__icontains=_useState12[1],route=props.route,visitPermission=Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["g"])(props.menuPermission,"permission-manage"),permissionsThisModule=Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["f"])("system-manage");Object(react__WEBPACK_IMPORTED_MODULE_7__["useEffect"])(function(){setCache({page:page,pageSize:pageSize,searchValueCacheMap:{name__icontains:name__icontains}})},[page,pageSize,name__icontains]);var getUrlPath=function(_,e,t){return"edit"===_?"".concat(t.path,"/:").concat(e.id,"?type=edit"):"add"===_?"".concat(t.path,"/:new?type=add"):"".concat(t.path,"/:").concat(e.id,"?type=read")},columns=[{title:"\u5e8f\u53f7",dataIndex:"index",width:60,align:"center",render:function(_,e,t){return t+1}},{title:"\u6743\u9650\u7ec4\u540d\u79f0",dataIndex:"name",align:"center"},{title:"\u64cd\u4f5c",width:225,align:"center",fixed:"right",render:function(_,e){var t="".concat(props.route.path,"/AccessUser/?id=").concat(e.id,"&name=").concat(e.name);return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__["a"],{url:t},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__["a"],{className:"bm-table__link",type:"link","aria-labelledby":"\u6388\u6743\u7528\u6237",onClick:function(){umi__WEBPACK_IMPORTED_MODULE_14__["router"].push("".concat(props.route.path,"/AccessUser/?id=").concat(e.id,"&name=").concat(e.name))}},"\u6388\u6743\u7528\u6237")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__["a"],{url:getUrlPath("read",{id:e.id},route)},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__["a"],{className:"bm-table__link",type:"link",style:{display:Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["e"])(permissionsThisModule,"system-manage:read")?"inline-block":"none"},onClick:function(){toDetails({type:"read",title:"\u67e5\u770b",id:e.id})}},"\u67e5\u770b")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__["a"],{url:getUrlPath("edit",{id:e.id},route)},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__["a"],{className:"bm-table__link",type:"link",style:{display:Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["e"])(permissionsThisModule,"system-manage:write")?"inline-block":"none"},onClick:function(){toDetails({type:"edit",title:"\u7f16\u8f91",id:e.id})}},"\u7f16\u8f91")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__["a"],{className:"bm-table__link",type:"link",style:{display:Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["e"])(permissionsThisModule,"system-manage:delete")?"inline-block":"none"},onClick:function(_){_.preventDefault(),removeRow(e.id)}},"\u5220\u9664"))}}],updateSearchNameAndCode=function updateSearchNameAndCode(args){for(var item in args)item.length>1&&args.hasOwnProperty(item)&&eval("set".concat(item.substring(0,1).toUpperCase()).concat(item.substring(1,item.length),"('").concat(args[item],"')"))},onSelectChange=function(_){setSelectedRowKeys(_)},reset=function(){setName__icontains(""),setSearchTimeStamp((new Date).valueOf())},removeRow=function(_){setSelectedRowKeys([_]),setDeleteVisible(!0)},toDetails=function(_){if(route){var e=getUrlPath(_.type,_,route);umi__WEBPACK_IMPORTED_MODULE_14__["router"].push(e)}},functionalMenu=Object(_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_10__["a"])({title:"\u6743\u9650\u7ba1\u7406",buttonGroups:[{type:"add",name:"\u65b0\u5efa",display:Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["e"])(permissionsThisModule,"system-manage:write"),callback:function(){var _=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default()(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _(){return _opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function(_){while(1)switch(_.prev=_.next){case 0:toDetails({type:"add",title:"\u65b0\u5efa",id:""});case 1:case"end":return _.stop()}},_)}));function e(){return _.apply(this,arguments)}return e}(),openWindowUrl:getUrlPath("add",{type:"add",title:"\u65b0\u5efa",id:""},route)},{type:"delete",name:"\u5220\u9664",display:Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_9__["e"])(permissionsThisModule,"system-manage:delete"),callback:function(){return setDeleteVisible(!0)}}]}),deleteModal=Object(_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_11__["a"])({category:"permission",deleteVisible:deleteVisible,selectedRowKeys:selectedRowKeys,setSearchTimeStamp:setSearchTimeStamp,setDeleteVisible:setDeleteVisible,setSelectedRowKeys:setSelectedRowKeys,deleteCallback:function(){}}),tableToolBox=Object(_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_12__["a"])({category:"permission",searchTimeStamp:searchTimeStamp,setSearchTimeStamp:setSearchTimeStamp,updateSearchNameAndCode:updateSearchNameAndCode,setPage:setPage,variables:{name__icontains:name__icontains,setName__icontains:setName__icontains},reset:reset}),table=Object(_hooks_Table__WEBPACK_IMPORTED_MODULE_13__["b"])({category:"permission",columns:columns,selectedRowKeys:selectedRowKeys,onSelectChange:onSelectChange,searchTimeStamp:searchTimeStamp,page:page,setPage:setPage,pageSize:pageSize,setPageSize:setPageSize,variables:{name__icontains:name__icontains,setName__icontains:setName__icontains,menu:"system-manage"},scroll:1e3});return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,visitPermission?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_1__["a"],{className:"title-card",style:{paddingBottom:"0"}},tableToolBox),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"content content-container_background-color content_margin-10 content_all_padding-10"},functionalMenu,table),deleteModal):null)};__webpack_exports__["default"]=Object(dva__WEBPACK_IMPORTED_MODULE_8__["connect"])(function(_){var e=_.siderMenus;return{menuPermission:e.menuPermission}})(Index)}}]);