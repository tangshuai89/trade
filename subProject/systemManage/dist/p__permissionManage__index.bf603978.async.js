(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"//9Q":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("maMK"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ERkP"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),dva__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("mTBN"),dva__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(dva__WEBPACK_IMPORTED_MODULE_2__),_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1Pzi"),_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("OZ92"),_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("967Y"),_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("dul+"),_hooks_Table__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("vc7k"),umi__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("st+D"),_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("SyEI"),_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("zUz/"),Index=function Index(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(!1),_useState2=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState,2),deleteVisible=_useState2[0],setDeleteVisible=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])([]),_useState4=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3,2),selectedRowKeys=_useState4[0],setSelectedRowKeys=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])((new Date).valueOf()),_useState6=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5,2),searchTimeStamp=_useState6[0],setSearchTimeStamp=_useState6[1],_usePageInfoCache=Object(_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_10__["a"])(),cachePage=_usePageInfoCache.cachePage,cachePageSize=_usePageInfoCache.cachePageSize,getCacheSearchValue=_usePageInfoCache.getCacheSearchValue,setCache=_usePageInfoCache.setCache,_useState7=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(cachePage),_useState8=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState7,2),page=_useState8[0],setPage=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(cachePageSize),_useState10=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState9,2),pageSize=_useState10[0],setPageSize=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(getCacheSearchValue("name__icontains",void 0)),_useState12=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState11,2),name__icontains=_useState12[0],setName__icontains=_useState12[1],route=props.route,visitPermission=Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_3__["g"])(props.permission,"permission:read"),permissionsThisModule=Object(_utils_permissionMethods__WEBPACK_IMPORTED_MODULE_3__["f"])("permission");Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(function(){setCache({page:page,pageSize:pageSize,searchValueCacheMap:{name__icontains:name__icontains}})},[page,pageSize,name__icontains]);var getUrlPath=function(e,_,t){return"edit"===e?"".concat(t.path,"/:").concat(_.id,"?type=edit"):"add"===e?"".concat(t.path,"/:new?type=add"):"".concat(t.path,"/:").concat(_.id,"?type=read")},columns=[{title:"\u8d26\u53f7",dataIndex:"username",render:function(e,_){var t=getUrlPath("read",{type:"read",title:"\u67e5\u770b",id:_.id,code:_.id},route);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_9__["a"],{url:t},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"color-blue",onClick:function(){toDetails({type:"read",title:"\u67e5\u770b",id:_.id,code:_.id})}},e))}},{title:"\u4f7f\u7528\u4eba",dataIndex:"name"},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u64cd\u4f5c",width:225,align:"center",fixed:"right",render:function(e,_){"".concat(props.route.path,"/AccessUser/?id=").concat(_.id,"&name=").concat(_.name);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null)}}],updateSearchNameAndCode=function updateSearchNameAndCode(args){for(var item in args)item.length>1&&args.hasOwnProperty(item)&&eval("set".concat(item.substring(0,1).toUpperCase()).concat(item.substring(1,item.length),"('").concat(args[item],"')"))},onSelectChange=function(e){setSelectedRowKeys(e)},reset=function(){setName__icontains(""),setSearchTimeStamp((new Date).valueOf())},removeRow=function(e){setSelectedRowKeys([e]),setDeleteVisible(!0)},toDetails=function(e){if(route){var _=getUrlPath(e.type,e,route);umi__WEBPACK_IMPORTED_MODULE_8__["router"].push(_)}},functionalMenu=Object(_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_4__["a"])({title:"\u6743\u9650\u7ba1\u7406",buttonGroups:[]}),deleteModal=Object(_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_5__["a"])({category:"permission",deleteVisible:deleteVisible,selectedRowKeys:selectedRowKeys,setSearchTimeStamp:setSearchTimeStamp,setDeleteVisible:setDeleteVisible,setSelectedRowKeys:setSelectedRowKeys,deleteCallback:function(){}}),tableToolBox=Object(_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_6__["a"])({category:"permission",searchTimeStamp:searchTimeStamp,setSearchTimeStamp:setSearchTimeStamp,updateSearchNameAndCode:updateSearchNameAndCode,setPage:setPage,variables:{name__icontains:name__icontains,setName__icontains:setName__icontains},reset:reset}),table=Object(_hooks_Table__WEBPACK_IMPORTED_MODULE_7__["b"])({category:"permission",columns:columns,selectedRowKeys:selectedRowKeys,onSelectChange:onSelectChange,searchTimeStamp:searchTimeStamp,page:page,setPage:setPage,pageSize:pageSize,setPageSize:setPageSize,variables:{name__icontains:name__icontains,setName__icontains:setName__icontains,menu:"system-manage"},scroll:1e3});return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,visitPermission?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"content content-container_background-color content_margin-10 content_all_padding-10"},functionalMenu,table)):null)};__webpack_exports__["default"]=Object(dva__WEBPACK_IMPORTED_MODULE_2__["connect"])(function(e){var _=e.siderMenus;return{menuPermission:_.menuPermission,permission:_.permission}})(Index)}}]);