(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"2hfb":function(e,t,n){},A8du:function(e,t,n){"use strict";n.r(t);var a=n("Z32k"),r=n.n(a),o=(n("zI7Q"),n("SCaQ")),c=(n("Iw6u"),n("ibId")),s=(n("oeo2"),n("BmDy")),l=(n("nOVC"),n("pXqq"),n("GNkT")),i=n.n(l),u=n("UXo8"),m=n.n(u),p=n("IY+y"),d=n.n(p),f=n("ERkP"),b=n.n(f),v=n("Eebg"),y=n.n(v),g=n("Xwgy"),h=n.n(g),E=n("dvjO"),w=n.n(E),O=n("zbip"),k=n.n(O),j=n("Ax+s"),C=n.n(j),N=n("lz7V"),x=n.n(N),S=n("myJI"),I=n.n(S),M=n("7tAp"),_=n.n(M),P=n("y+Zr"),A=n.n(P),B=n("B5SY"),J=n("O94r"),T=n.n(J),z=n("tb/6");function D(e){return Object.keys(e).reduce(function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t},{})}var L=n("33mn"),q=n.n(L),K=n("YZ0T"),Q=n.n(K),X=n("v6ZJ"),Z=n.n(X),Y=n("l9C/"),G=n.n(Y),H=function(e){Z()(n,e);var t=G()(n);function n(){var e;return q()(this,n),e=t.apply(this,arguments),e.state={error:void 0,info:{componentStack:""}},e}return Q()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,a=e.children,r=this.state,o=r.error,c=r.info,s=c&&c.componentStack?c.componentStack:null,l="undefined"===typeof t?(o||"").toString():t,i="undefined"===typeof n?s:n;return o?f["createElement"]($,{type:"error",message:l,description:f["createElement"]("pre",null,i)}):a}}]),n}(f["Component"]),R=n("oFrK"),V=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},F={success:x.a,info:_.a,error:A.a,warning:I.a},U={success:h.a,info:k.a,error:C.a,warning:w.a},W=function(e){var t,n=e.description,a=e.prefixCls,r=e.message,o=e.banner,c=e.className,s=void 0===c?"":c,l=e.style,u=e.onMouseEnter,p=e.onMouseLeave,b=e.onClick,v=e.afterClose,g=e.showIcon,h=e.closable,E=e.closeText,w=V(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText"]),O=f["useState"](!1),k=d()(O,2),j=k[0],C=k[1],N=f["useRef"](),x=f["useContext"](z["b"]),S=x.getPrefixCls,I=x.direction,M=S("alert",a),_=function(e){var t;C(!0),null===(t=w.onClose)||void 0===t||t.call(w,e)},P=function(){var e=w.type;return void 0!==e?e:o?"warning":"info"},A=!!E||h,J=P(),L=function(){var e=w.icon,t=(n?U:F)[J]||null;return e?Object(R["c"])(e,f["createElement"]("span",{className:"".concat(M,"-icon")},e),function(){return{className:T()("".concat(M,"-icon"),m()({},e.props.className,e.props.className))}}):f["createElement"](t,{className:"".concat(M,"-icon")})},q=function(){return A?f["createElement"]("button",{type:"button",onClick:_,className:"".concat(M,"-close-icon"),tabIndex:0},E?f["createElement"]("span",{className:"".concat(M,"-close-text")},E):f["createElement"](y.a,null)):null},K=!(!o||void 0!==g)||g,Q=T()(M,"".concat(M,"-").concat(J),(t={},m()(t,"".concat(M,"-with-description"),!!n),m()(t,"".concat(M,"-no-icon"),!K),m()(t,"".concat(M,"-banner"),!!o),m()(t,"".concat(M,"-closable"),A),m()(t,"".concat(M,"-rtl"),"rtl"===I),t),s),X=D(w);return f["createElement"](B["default"],{visible:!j,motionName:"".concat(M,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},function(e){var t=e.className,a=e.style;return f["createElement"]("div",i()({ref:N,"data-show":!j,className:T()(Q,t),style:i()(i()({},l),a),onMouseEnter:u,onMouseLeave:p,onClick:b,role:"alert"},X),K?L():null,f["createElement"]("span",{className:"".concat(M,"-message")},r),f["createElement"]("span",{className:"".concat(M,"-description")},n),q())})};W.ErrorBoundary=H;var $=W,ee=n("JGaj"),te=n.n(ee),ne=n("maMK"),ae=n.n(ne),re=n("mTBN"),oe=n("st+D"),ce=n("MNWE"),se=n("sQQd"),le=n("I479"),ie=n("J3C8"),ue=n.n(ie),me=n("vspj"),pe=function(e){return b.a.createElement(me["a"],Object.assign({},e,{icon:ue.a}))},de=pe,fe=n("sy1d"),be=n("ju8E");function ve(e){return ye.apply(this,arguments)}function ye(){return ye=te()(r.a.mark(function e(t){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(fe["b"])(Object(be["a"])("/taps/mall-passport/v1/login/usernameAndPasswd/"),{method:"POST",body:t}));case 1:case"end":return e.stop()}},e)})),ye.apply(this,arguments)}n("2hfb");var ge=function(e){var t=e.dispatch,n=Object(f["useState"])(""),a=ae()(n,2),l=a[0],i=a[1],u=Object(f["useState"])(""),m=ae()(u,2),p=m[0],d=m[1],v=Object(f["useState"])(-1),y=ae()(v,2),g=y[0],h=y[1],E=Object(f["useState"])(!1),w=ae()(E,2),O=w[0],k=w[1],j=Object(f["useState"])(!1),C=ae()(j,2),N=C[0],x=C[1];function S(){return I.apply(this,arguments)}function I(){return I=te()(r.a.mark(function e(){var n,a,o,c;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(x(!0),n={username:l,passwd:p},g>0&&(n.token_max_age=30),!l||!p){e.next=10;break}return e.next=6,ve(n);case 6:a=e.sent,a&&a.token?(localStorage.setItem("token",a.token),Object(ce["a"])(a,"user.userprofile.is_admin")&&localStorage.setItem("is_admin",a.user.userprofile.is_admin),Object(ce["a"])(a,"user.id")&&localStorage.setItem("user_id",a.user.id),o=Object(se["f"])("user_id"),c=Object(se["f"])("is_admin"),t&&o&&t({type:"siderMenus/getPermission",payload:{id:o,isAdmin:c}}),oe["router"].push("/")):k(!0),e.next=11;break;case 10:k(!0);case 11:x(!1);case 12:case"end":return e.stop()}},e)})),I.apply(this,arguments)}var M=function(e){13===e.keyCode&&S().then(function(){})},_=function(e){e.target.checked?h(30):h(-1)};return b.a.createElement("div",{className:"login"},b.a.createElement("div",{className:"logo"}),b.a.createElement("div",{className:"form-wapper"},b.a.createElement("div",{className:"title"},"\u8d26\u53f7\u767b\u5f55"),b.a.createElement("ul",{className:"input-list"},b.a.createElement("li",{style:{marginBottom:10}},b.a.createElement($,{className:O?"":"hidden",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u53ca\u5bc6\u7801",type:"error",showIcon:!0})),b.a.createElement("li",null,b.a.createElement(s["a"],{placeholder:"\u8d26\u53f7",onChange:function(e){return i(e.target.value)},onKeyDown:M,prefix:b.a.createElement(le["a"],{style:{color:"rgba(0,0,0,.25)"}})})),b.a.createElement("li",{style:{marginBottom:"0"}},b.a.createElement(s["a"].Password,{placeholder:"\u5bc6\u7801",onChange:function(e){return d(e.target.value)},onKeyDown:M,onPressEnter:S,prefix:b.a.createElement(de,{style:{color:"rgba(0,0,0,.25)"}})})),b.a.createElement("p",{style:{marginTop:10}},b.a.createElement(c["a"],{checked:30===g,onChange:_},"30\u5929\u5185\u81ea\u52a8\u767b\u5f55"))),b.a.createElement(o["a"],{type:"primary",loading:N,className:"submit-button",onClick:S},"\u767b\u5f55")))};t["default"]=Object(re["connect"])(function(e){var t=e.siderMenus;return{siderMenus:t}})(ge)},J3C8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"key",theme:"outline",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]}};t.default=a},pXqq:function(e,t,n){}}]);