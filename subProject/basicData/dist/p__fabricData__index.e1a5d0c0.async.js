(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{yroc:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var antd_es_col_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53cK"),antd_es_col__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("VKn7"),antd_es_row_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("mZxn"),antd_es_row__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("S7b9"),antd_es_divider_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("zAnB"),antd_es_divider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("cUST"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("Z32k"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6__),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("JGaj"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("maMK"),_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ERkP"),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("OZ92"),_hooks_Table__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("vc7k"),_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("dul+"),umi__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("st+D"),_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("zUz/"),_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("SyEI"),_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("967Y"),_services_index__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("VxYr"),_localFiles_invariant__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("XzU4"),host="fabricData",GreigeData=function GreigeData(props){var route=props.route,_useState=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(!1),_useState2=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState,2),deleteVisible=_useState2[0],setDeleteVisible=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])((new Date).valueOf()),_useState4=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState3,2),searchTimeStamp=_useState4[0],setSearchTimeStamp=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])([]),_useState6=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState5,2),selectedRowKeys=_useState6[0],setSelectedRowKeys=_useState6[1],_usePageInfoCache=Object(_hooks_PageInfoCache__WEBPACK_IMPORTED_MODULE_14__["a"])(),cachePage=_usePageInfoCache.cachePage,cachePageSize=_usePageInfoCache.cachePageSize,getCacheSearchValue=_usePageInfoCache.getCacheSearchValue,setCache=_usePageInfoCache.setCache,_useState7=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(cachePage),_useState8=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState7,2),page=_useState8[0],setPage=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(cachePageSize),_useState10=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState9,2),pageSize=_useState10[0],setPageSize=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(getCacheSearchValue("name",void 0)),_useState12=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState11,2),name=_useState12[0],setName=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_9__["useState"])(getCacheSearchValue("productCatalogId",void 0)),_useState14=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState13,2),productCatalogId=_useState14[0],setProductCatalogId=_useState14[1],getUrlPath=function(e,_,t){return"edit"===e?"".concat(t.path,"/:").concat(_.id,"?type=edit&code=").concat(_.code):"add"===e?"".concat(t.path,"/:new?type=add"):"".concat(t.path,"/:").concat(_.id,"?type=read&code=").concat(_.code)},toDetails=function(e){if(route){var _=getUrlPath(e.type,e,route);umi__WEBPACK_IMPORTED_MODULE_13__["router"].push(_)}},removeRow=function(e){setSelectedRowKeys([e]),setDeleteVisible(!0)},functionMenu=Object(_hooks_FunctionMenu__WEBPACK_IMPORTED_MODULE_10__["a"])({title:"\u9762\u6599\u8d44\u6599",buttonGroups:[{type:"add",name:"\u6dfb\u52a0\u9762\u6599",display:!0,callback:function(){var e=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function e(){return _opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:toDetails({type:"add",title:"\u65b0\u5efa",id:"",code:""});case 1:case"end":return e.stop()}},e)}));function _(){return e.apply(this,arguments)}return _}(),openWindowUrl:getUrlPath("add",{type:"add",title:"\u65b0\u5efa",id:""},route)}]}),columns=[{dataIndex:"code",title:"\u9762\u6599\u7f16\u7801",render:function(e,_){var t=getUrlPath("read",{type:"read",title:"\u67e5\u770b",id:_.id,code:_.id},route);return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__["a"],{url:t},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{href:"javascript:;",className:"color-blue",onClick:function(){return toDetails({type:"read",title:"\u67e5\u770b",id:_.id,code:_.id})}},e))}},{dataIndex:"name",title:"\u9762\u6599\u540d\u79f0"},{dataIndex:"productCatalogName",title:"\u9762\u6599\u7c7b\u76ee"},{dataIndex:"unitTypeName",title:"\u9762\u6599\u5355\u4f4d"},{dataIndex:"norms",title:"\u9762\u6599\u89c4\u683c"},{dataIndex:"component",title:"\u9762\u6599\u6210\u5206"},{dataIndex:"width",title:"\u9762\u6599\u95e8\u5e45"},{dataIndex:"faw",title:"\u9762\u6599\u514b\u91cd"},{dataIndex:"comments",title:"\u5907\u6ce8"},{title:"\u64cd\u4f5c",fixed:"right",render:function(e,_){var t=getUrlPath("edit",{type:"edit",title:"\u7f16\u8f91",id:_.id,code:_.id},route);return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_components_DropdownOpenWindow__WEBPACK_IMPORTED_MODULE_15__["a"],{url:t},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{href:"javascript:;",onClick:function(){toDetails({type:"edit",title:"\u7f16\u8f91",id:_.id,code:_.id})}},"\u7f16\u8f91")),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_divider__WEBPACK_IMPORTED_MODULE_5__["a"],{type:"vertical"}),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("a",{href:"javascript:;",onClick:function(){return removeRow(_.id)}},"\u5220\u9664"))}}],onSelectChange=function(e,_){setSelectedRowKeys(e)},table=Object(_hooks_Table__WEBPACK_IMPORTED_MODULE_11__["b"])({category:host,searchTimeStamp:searchTimeStamp,columns:columns,page:page,setPage:setPage,pageSize:pageSize,setPageSize:setPageSize,selectedRowKeys:selectedRowKeys,onSelectChange:onSelectChange,variables:{name:name,productCatalogId:productCatalogId}}),updateSearchNameAndCode=function updateSearchNameAndCode(args){for(var item in args)eval("set".concat(item.substring(0,1).toUpperCase()).concat(item.substring(1,item.length),"('").concat(args[item],"')"))},reset=function(){setPage(1),setName(void 0),setProductCatalogId(void 0),setSearchTimeStamp((new Date).valueOf())},tableToolBox=Object(_hooks_TableToolbox__WEBPACK_IMPORTED_MODULE_12__["a"])({category:host,searchTimeStamp:searchTimeStamp,setSearchTimeStamp:setSearchTimeStamp,updateSearchNameAndCode:updateSearchNameAndCode,setPage:setPage,variables:{name:name,productCatalogId:productCatalogId,setName:setName,setProductCatalogId:setProductCatalogId},reset:reset}),getSeries=function(){var e=_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()(_opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.mark(function e(){var _,t;return _opt_trade_pedestal_node_modules_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_services_index__WEBPACK_IMPORTED_MODULE_17__["b"])();case 2:_=e.sent,_&&Array.isArray(_)&&_.length&&(t=_.map(function(e){return{label:e.name,value:e.id}}),Object(_localFiles_invariant__WEBPACK_IMPORTED_MODULE_18__["c"])(_localFiles_invariant__WEBPACK_IMPORTED_MODULE_18__["a"],host,t,"productCatalogId"));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function(){getSeries()},[]);var deleteModal=Object(_hooks_DeleteModal__WEBPACK_IMPORTED_MODULE_16__["a"])({category:host,deleteVisible:deleteVisible,selectedRowKeys:selectedRowKeys,setSearchTimeStamp:setSearchTimeStamp,setDeleteVisible:setDeleteVisible,setSelectedRowKeys:setSelectedRowKeys});return Object(react__WEBPACK_IMPORTED_MODULE_9__["useEffect"])(function(){setCache({page:page,pageSize:pageSize,searchValueCacheMap:{name:name,productCatalogId:productCatalogId}})},[page,pageSize,name,productCatalogId]),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_9___default.a.Fragment,null,functionMenu,deleteModal,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_3__["a"],{className:"content_margin-10 content-container_background-color content-container_padding-around-top-more"},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_1__["a"],{span:24},tableToolBox,table)))};__webpack_exports__["default"]=GreigeData}}]);