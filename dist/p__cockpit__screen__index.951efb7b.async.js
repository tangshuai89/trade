(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"5XjT":function(e,t,a){"use strict";a.r(t);a("jCWc");var n=a("kPKH"),r=(a("14J3"),a("BMrR")),c=a("q1tI"),s=a.n(c),l=(a("BKUS"),a("d6i3")),u=a.n(l),i=a("1l/V"),o=a.n(i),m=a("qIgq"),f=a.n(m),p=a("wd/R"),h=a.n(p),d=a("ayLD"),b=a("O45G"),v=a("R+Pm"),E=Object(v["a"])({scriptUrl:"/fonts/iconfont/iconfont.js"});function y(e){var t=e.title,a=e.chartData,n=e.titlePosition;return s.a.createElement(r["a"],{className:"chart-with-title"},s.a.createElement(r["a"],{className:"title-row"},s.a.createElement("h1",{className:"".concat(n||"left")},t),s.a.createElement("div",{className:"setting-button"},s.a.createElement(E,{type:"icon-setting",style:{color:"inherit",fontSize:16}}))),s.a.createElement(r["a"],{className:"chart-row"},s.a.createElement(b["a"],{data:a})))}var Y,w,O,g,j,D,M,S=a("AhHa"),N="rgba(255,255,255,.1)",_="#58ddfc",x=a("2rYH"),k=18e5,I=function(){var e=Object(c["useState"])(h()().subtract(10,"days").format("YYYY-MM-DD")),t=f()(e,2),a=t[0],n=t[1],r=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),l=f()(r,2),i=l[0],m=l[1],p=Object(c["useState"])([]),b=f()(p,2),v=b[0],E=b[1],w=Object(c["useState"])([]),O=f()(w,2),g=O[0],j=O[1];Object(c["useEffect"])(function(){var e={start_date:a,end_date:i,menu:"home-screen"};function t(){return n.apply(this,arguments)}function n(){return n=o()(u.a.mark(function t(){var a,n,r,c,s;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["e"])(e);case 2:a=t.sent,a&&(n=Object(x["b"])(a),r=f()(n,2),c=r[0],s=r[1],E(c),j(s));case 4:case"end":return t.stop()}},t)})),n.apply(this,arguments)}t()},[i]);var D=function(e,t){n(h()().subtract(e,"days").format("YYYY-MM-DD")),m(h()().subtract(t,"days").format("YYYY-MM-DD"))};Object(c["useEffect"])(function(){return Y=Object(S["a"])(Y,i,k,function(){return D(10,1)}),function(){clearInterval(Y)}},[]);var M={unit:"\u7f38",xAxis:v,y_splitLine:{show:!0,lineStyle:{color:N,type:"dashed"}},chart:[{name:"\u7f38\u6570",data:g,type:"bar",LinearGradient:["rgba(28,106,212,1)","rgba(32,193,252,1)"]}]},_=y({title:"\u67d3\u6279\u7f38\u6570(\u7f38)",chartData:M});return s.a.createElement(s.a.Fragment,null,_)},L=18e5,P=function(){var e=Object(c["useState"])(h()().subtract(10,"days").format("YYYY-MM-DD")),t=f()(e,2),a=t[0],n=t[1],r=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),l=f()(r,2),i=l[0],m=l[1],p=Object(c["useState"])([]),b=f()(p,2),v=b[0],E=b[1],Y=Object(c["useState"])([]),O=f()(Y,2),g=O[0],j=O[1];Object(c["useEffect"])(function(){var e={start_date:a,end_date:i};function t(){return n.apply(this,arguments)}function n(){return n=o()(u.a.mark(function t(){var a,n,r;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["f"])(e);case 2:a=t.sent,a&&(n=[],r=[],a.forEach(function(e){n.push(e.date.substring(5,10)),r.push(e.rate?(100*e.rate).toFixed(3):"-")}),E(n),j(r));case 4:case"end":return t.stop()}},t)})),n.apply(this,arguments)}t()},[i]);var D=function(e,t){n(h()().subtract(e,"days").format("YYYY-MM-DD")),m(h()().subtract(t,"days").format("YYYY-MM-DD"))};Object(c["useEffect"])(function(){return w=Object(S["a"])(w,i,L,function(){return D(10,1)}),function(){clearInterval(w)}},[]);var M={unit:"%",xAxis_boundaryGap:!0,smooth:!0,xAxis:v,y_splitLine:{show:!0,lineStyle:{color:N,type:"dashed"}},chart:[{name:"\u6210\u529f\u7387",data:g,type:"line",lineStyleWidth:2,color:_}]},x=y({title:"\u4e00\u6b21\u6210\u529f\u7387",chartData:M});return s.a.createElement(s.a.Fragment,null,x)},F=function(){var e=Object(c["useState"])(0),t=f()(e,2),a=t[0],n=t[1],r=Object(c["useState"])(0),l=f()(r,2),i=l[0],m=l[1],p=Object(c["useState"])(0),b=f()(p,2),v=b[0],E=b[1],y=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),Y=f()(y,2),w=Y[0],g=Y[1];return Object(c["useEffect"])(function(){function e(){return t.apply(this,arguments)}function t(){return t=o()(u.a.mark(function e(){var t;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["c"])({day:w});case 2:t=e.sent,t&&(n(t.work_time_rate?parseFloat(t.work_time_rate):0),m(t.day_amount?t.day_amount:0),E(t.flaw_pot?t.flaw_pot:0));case 4:case"end":return e.stop()}},e)})),t.apply(this,arguments)}e()},[w]),Object(c["useEffect"])(function(){return O=setInterval(function(){h()().valueOf()>h()(w).endOf("days").valueOf()&&g(h()().subtract(1,"days").format("YYYY-MM-DD"))},18e5),function(){clearInterval(O)}},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement("h1",{style:{lineHeight:"45px"}},a.toFixed(1),s.a.createElement("span",null,"%")),s.a.createElement("h2",null,"\u8bbe\u5907\u4f5c\u4e1a\u7387")),s.a.createElement("div",null,s.a.createElement("h1",{style:{lineHeight:"60px"}},i),s.a.createElement("h2",null,"\u65e5\u4ea7\u91cf(\u7c73)")),s.a.createElement("div",null,s.a.createElement("h1",{style:{lineHeight:"60px"}},v),s.a.createElement("h2",null,"\u51fa\u75b5\u7f38\u6570")))},H=a("2Taf"),A=a.n(H),B=a("vZ4D"),C=a.n(B),U=a("l4Ni"),z=a.n(U),T=a("ujKo"),V=a.n(T),q=a("MhPg"),G=a.n(q),K=a("MuoO"),W=a("LvDl"),J=a.n(W),R=a("3a4m"),Q=a.n(R),X=a("swSf"),Z=a("mmNr"),$=a("sdLe"),ee=Object(v["a"])({scriptUrl:"/fonts/iconfont/iconfont.js"}),te=function(e){function t(){var e;return A()(this,t),e=z()(this,V()(t).apply(this,arguments)),e.state={data:[],count:{run:0,await:0,stop:0,pause:0,unusual:0,unknow:0},type:"states"},e.toView=function(t,a,n){var r=e.props.dispatch;r&&r({type:"siderMenus/onlineMonitoringBreadcrumbs",payload:{title:n||t.substring(7,t.length)+"#"+a,url:"/intelligentMonitoring/productionMonitoring/:".concat(t)}}),Q.a.push("/intelligentMonitoring/productionMonitoring/:".concat(t,"#").concat(a))},e.renderStatesList=function(){var t,a=e.state,n=a.data,r=a.type,c=[];return"number"===r?t=n:(t=J.a.orderBy(n,["status"],["asc"])).reverse(),t.length&&t.map(function(t){c.push(s.a.createElement("div",{key:t.id,className:"".concat(t.status),onClick:function(){return e.toView(t.id,t.type,t.name)}},t.name.split("#")[0]))}),c},e}return G()(t,e),C()(t,[{key:"componentDidMount",value:function(){var e=this;g=setInterval(function(){e.fetchOperatingStatusList({branch:"all",menu:"home-screen"})},$["c"]),this.fetchOperatingStatusList({branch:"all",menu:"home-screen"})}},{key:"componentWillUnmount",value:function(){clearInterval(g)}},{key:"fetchOperatingStatusList",value:function(){var e=o()(u.a.mark(function e(t){var a,n,r,c,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Z["a"])(t);case 2:a=e.sent,a&&(n=a.data.yusuo.device_list.concat(a.data.ranse.device_list),r=[],n.forEach(function(e){"\u6c7d\u6d41\u7f38"!==e.type&&r.push(e)}),c=J.a.sortBy(r,function(e){return Number(e.name.match(/(\S*)#/)[1])}),s=Object(X["a"])(c),this.setState({data:s,count:a.count}));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this,t=this.state,a=t.type,c=t.count;return s.a.createElement(s.a.Fragment,null,s.a.createElement(r["a"],{className:"title-row"},s.a.createElement("h1",{className:"center"},"\u673a\u7f38\u76d1\u63a7"),s.a.createElement("div",{className:"setting-button"},s.a.createElement(ee,{type:"icon-setting",style:{color:"inherit",fontSize:16}}))),s.a.createElement(r["a"],{className:"states-select-row"},s.a.createElement(n["a"],{className:"select-botton",span:8},s.a.createElement("div",{className:"number"===a?"active":"",onClick:function(){return e.setState({type:"number"})}},"\u6309\u7f16\u53f7\u6392\u5e8f"),s.a.createElement("div",{className:"states"===a?"active":"",onClick:function(){return e.setState({type:"states"})}},"\u6309\u72b6\u6001\u6392\u5e8f")),s.a.createElement(n["a"],{span:16,className:"states-box"},s.a.createElement("div",null,s.a.createElement("span",{className:"run",style:{marginLeft:0}}),"\xa0\u6b63\u5e38(",c.run,")"),s.a.createElement("div",null,s.a.createElement("span",{className:"pause"}),"\xa0\u5f02\u5e38(",c.unusual,")"),s.a.createElement("div",null,s.a.createElement("span",{className:"await"}),"\xa0\u5f85\u673a(",c.await,")"),s.a.createElement("div",null,s.a.createElement("span",{className:"stop"}),"\xa0\u505c\u673a(",c.stop,")"),s.a.createElement("div",null,s.a.createElement("span",{className:"unknown"}),"\xa0\u79bb\u7ebf(",c.unknow,")"))),s.a.createElement(r["a"],{className:"states-list-row"},this.renderStatesList()))}}]),t}(c["PureComponent"]),ae=Object(K["connect"])(function(e){var t=e.siderMenus;return{breadcrumbs:t.breadcrumbs}})(te),ne=function(){var e=Object(c["useState"])(h()().format("YYYY-MM-DD HH:mm:ss")),t=f()(e,2),a=t[0],n=t[1];return Object(c["useEffect"])(function(){var e=setInterval(function(){n(h()().format("YYYY-MM-DD HH:mm:ss"))},1e3);return function(){clearInterval(e)}},[a]),s.a.createElement(s.a.Fragment,null,a)},re=a("rUyP"),ce=["\u673a\u7269\u6599","\u5b9a\u578b\u52a9\u5242","\u67d3\u6599","\u67d3\u8272\u52a9\u5242"],se=["\u67d3\u8272\u52a9\u5242","\u5b9a\u578b\u52a9\u5242","\u673a\u7269\u6599","\u67d3\u6599"],le=["rgba(52, 200, 226, 1)","rgba(255, 180, 94, 1)","rgba(148, 102, 253, 1)","rgba(22, 124, 248, 1)"],ue="\u67d3\u6599",ie=function(){var e,t,a=Object(c["useState"])(0),n=f()(a,2),r=n[0],l=n[1],i=Object(c["useState"])(0),m=f()(i,2),p=m[0],b=m[1],v=Object(c["useState"])([[],[],[],[]]),E=f()(v,2),Y=E[0],w=E[1],O=Object(c["useState"])([]),g=f()(O,2),D=g[0],M=g[1],S=Object(c["useState"])({"\u67d3\u6599":0,"\u673a\u7269\u6599":0}),N=f()(S,2),_=N[0],x=N[1],k=Object(c["useState"])(h()().subtract(10,"days").format("YYYY-MM-DD")),I=f()(k,2),L=I[0],P=I[1],F=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),H=f()(F,2),A=H[0],B=H[1];Object(c["useEffect"])(function(){return e=setInterval(function(){C()},15e3),t=setInterval(function(){var e=p;b(++e)},15e3),function(){clearInterval(t),clearInterval(e)}},[p]);var C=function(){var e=Number(r);l(r>0?0:++e)};function U(){return z.apply(this,arguments)}function z(){return z=o()(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={start_date:L,end_date:A,menu:"home-screen"},e.next=3,Object(d["d"])(t);case 3:a=e.sent,a instanceof Array&&(w(Object(re["b"])(a,ce)),x(Object(re["a"])(a,ue)),M(Object(re["c"])(a)));case 5:case"end":return e.stop()}},e)})),z.apply(this,arguments)}Object(c["useEffect"])(function(){U()},[A]),Object(c["useEffect"])(function(){return j=setInterval(function(){h()().valueOf()>h()(A).endOf("days").valueOf()&&(P(h()().subtract(10,"days").format("YYYY-MM-DD")),B(h()().subtract(1,"days").format("YYYY-MM-DD")))},18e5),function(){clearInterval(j)}},[]);var T=function(e){return e.map(function(e,t){return{name:e,data:Y[ce.indexOf(e)],type:"bar",stack:!0,color:le[t]}})},V={unit:"\u5143",xAxis:D,legend:se,chart:T(se),legendPosition:"right",legendPadding:[0,20,0,0]},q=function(e){return[{data:e.map(function(e,t){return{value:_&&_.length>0&&_[0][e]?_[0][e].toFixed(0):"-",name:e,itemStyle:{color:le[t]}}}),type:"pie",radius:["30%","60%"],center:["50%","45%"],label:!0}]},G={unit:"\u5143",legend:se,y_axisLine:!1,chart:q(se),legendPosition:"right",legendPadding:[0,20,0,0],legendBottom:20},K=y({title:"\u65e5\u7269\u8017(\u5143)",chartData:V}),W=y({title:"\u65e5\u7269\u8017(\u5143)",chartData:G});return s.a.createElement(s.a.Fragment,null,0===r?K:W)},oe=a("IYqh"),me=18e5,fe=function(){var e=Object(c["useState"])(h()().subtract(10,"days").format("YYYY-MM-DD")),t=f()(e,2),a=t[0],n=t[1],r=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),l=f()(r,2),i=l[0],m=l[1],p=Object(c["useState"])([]),b=f()(p,2),v=b[0],E=b[1],Y=Object(c["useState"])([]),w=f()(Y,2),O=w[0],g=w[1];function j(){return M.apply(this,arguments)}function M(){return M=o()(u.a.mark(function e(){var t;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={start_date:a,end_date:i,menu:"home-screen"},e.next=3,Object(d["a"])(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),M.apply(this,arguments)}Object(c["useEffect"])(function(){j().then(function(e){if(e){var t=Object(oe["b"])(e),a=f()(t,2),n=a[0],r=a[1];E(n),g(r)}})},[i]);var x=function(e,t){n(h()().subtract(e,"days").format("YYYY-MM-DD")),m(h()().subtract(t,"days").format("YYYY-MM-DD"))};Object(c["useEffect"])(function(){return D=Object(S["a"])(D,i,me,function(){return x(10,1)}),function(){clearInterval(D)}},[]);var k={unit:"\u4e07\u7c73",xAxis_boundaryGap:!0,smooth:!0,xAxis:v,y_splitLine:{show:!0,lineStyle:{color:N,type:"dashed"}},chart:[{name:"\u65e5\u4ea7\u91cf",data:O,type:"line",lineStyleWidth:2,color:_}]},I=y({title:"\u65e5\u4ea7\u91cf(\u4e07\u7c73)",chartData:k});return s.a.createElement(s.a.Fragment,null,I)},pe=a("Q/eV"),he=a("MT78"),de=a.n(he),be=a("t3Fx"),ve=a.n(be),Ee=function(e){var t=e.temperature,a=e.threshold,n=e.name,r=Object(c["useState"])(.33),l=f()(r,2),u=l[0],i=l[1],o=Object(c["useState"])($["g"]),m=f()(o,2),p=m[0],h=m[1],d=Object(c["useState"])("normal"),b=f()(d,2),v=(b[0],b[1]);Object(c["useEffect"])(function(){if(t<=a.low_temperature){var e=t/a.low_temperature*33/100;i(e),h($["g"]),v("normal")}else if(t<=a.high_temperature&&t>a.low_temperature){var n=((t-a.low_temperature)/(a.high_temperature-a.low_temperature)*33+33)/100;i(n),h($["h"]),v("warning")}else i(.825),h($["f"]),v("abnormal")},[t,a]);var E={tooltip:{show:!1},series:[{startAngle:180,endAngle:0,type:"gauge",radius:"80%",axisLine:{length:100,lineStyle:{color:[[u,p],[1,"rgba(21, 45, 111, 1)"]],width:10}},splitLine:{show:!1,length:10},axisTick:{show:!1},title:{show:!1},detail:{show:!1},axisLabel:{show:!1},pointer:{show:!1},data:[{value:u}]}]};return s.a.createElement("div",{className:"guage-item"},s.a.createElement(ve.a,{echarts:de.a,option:E,className:"guage-cheart"}),s.a.createElement("div",{className:"temperature-text"},t>0?t+"\xb0C":"\u6682\u65e0\u6570\u636e"),s.a.createElement("h3",{className:"ellipsis"},n))},ye=Object(v["a"])({scriptUrl:"/fonts/iconfont/iconfont.js"}),Ye=function(){var e=Object(c["useState"])({low_temperature:"",high_temperature:""}),t=f()(e,2),a=t[0],n=t[1],l=Object(c["useState"])([]),i=f()(l,2),m=i[0],p=i[1],h=Object(c["useState"])([]),d=f()(h,2),b=d[0],v=d[1],E=Object(c["useState"])({normal:0,warning:0,abnormal:0}),y=f()(E,2),Y=y[0],w=y[1];function O(){return g.apply(this,arguments)}function g(){return g=o()(u.a.mark(function e(){var t;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(pe["c"])({menu:"home-screen"});case 2:t=e.sent,t&&n({low_temperature:t.low_temperature,high_temperature:t.high_temperature});case 4:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function j(e){return D.apply(this,arguments)}function D(){return D=o()(u.a.mark(function e(t){var n,r,c,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(pe["b"])(t);case 2:n=e.sent,n&&(r=[],n.forEach(function(e){var t=m.find(function(t){return t.id===e.flue_id});t&&r.push({temperature:e.value?parseInt(e.value):-1,name:t.name,id:e.flue_id,order:t.order})}),c=J.a.sortBy(r,"order"),s={normal:0,warning:0,abnormal:0},c.forEach(function(e){e.temperature<=a.low_temperature?s.normal+=1:e.temperature<=a.high_temperature&&e.temperature>a.low_temperature?s.warning+=1:s.abnormal+=1}),v(c),w(s));case 4:case"end":return e.stop()}},e)})),D.apply(this,arguments)}function M(){return S.apply(this,arguments)}function S(){return S=o()(u.a.mark(function e(){var t;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(pe["a"])({no_page:!0,menu:"home-screen"});case 2:t=e.sent,t&&t.length&&p(t);case 4:case"end":return e.stop()}},e)})),S.apply(this,arguments)}return Object(c["useEffect"])(function(){if(m.length){var e=[];m.forEach(function(t){e.push(t.id)}),j({flue_ids:e.join(","),menu:"home-screen"})}},[m]),Object(c["useEffect"])(function(){var e=setInterval(function(){O(),M()},5e3);return function(){clearInterval(e)}},[]),Object(c["useEffect"])(function(){O(),M()},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(r["a"],{className:"title-row"},s.a.createElement("h1",{className:"center"},"\u5b9a\u578b\u673a\u70df\u9053\u76d1\u63a7"),s.a.createElement("div",{className:"setting-button"},s.a.createElement(ye,{type:"icon-setting",style:{color:"inherit",fontSize:16}}))),s.a.createElement(r["a"],{className:"states-row"},s.a.createElement("div",{className:"normal"})," ",s.a.createElement("span",{className:"text"},"\u6b63\u5e38\xa0",Y.normal,"\xa0\u53f0"),s.a.createElement("div",{className:"warning"})," ",s.a.createElement("span",{className:"text"},"\u9884\u8b66\xa0",Y.warning,"\xa0\u53f0"),s.a.createElement("div",{className:"abnormal"})," ",s.a.createElement("span",{className:"text"},"\u5f02\u5e38\xa0",Y.abnormal,"\xa0\u53f0")),s.a.createElement(r["a"],{className:"guage-row"},b.length?b.map(function(e){return s.a.createElement(Ee,{temperature:e.temperature,name:e.name,threshold:a})}):null))},we=(a("fV52"),a("3I+P")),Oe=6e4,ge=12,je=function(){var e=Object(c["useState"])([]),t=f()(e,2),a=t[0],n=t[1];function r(e){return l.apply(this,arguments)}function l(){return l=o()(u.a.mark(function e(t){var a,r;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["b"])(t);case 2:a=e.sent,a&&a.length&&(r=a.length>ge?a.slice(0,ge):a,n(r));case 4:case"end":return e.stop()}},e)})),l.apply(this,arguments)}return Object(c["useEffect"])(function(){r({day:h()().format("YYYY-MM-DD")});var e=setInterval(function(){r({day:h()().format("YYYY-MM-DD")})},Oe);return function(){clearInterval(e)}},[]),s.a.createElement("div",{className:"problem-list"},a.length?s.a.createElement(we["a"],{dotPosition:"right",autoplay:!0,dots:!1,speed:1250,slidesToShow:10,slidesToScroll:1},a.map(function(e,t){return s.a.createElement("li",{key:e.text+t},s.a.createElement("span",{className:"text ellipsis"},e.text),s.a.createElement("span",{className:"time"},h()(e.datetime).format("YYYY/MM/DD HH:mm")))})):null)},De=18e5,Me=["\u84b8\u6c7d\u8d39","\u7535\u8d39","\u5929\u7136\u6c14\u8d39","\u6c34\u8d39"],Se=["#90D16B","#2D88FB","#29CBCC","#8D86EC"],Ne=function(){var e=Object(c["useState"])(0),t=f()(e,2),a=(t[0],t[1],Object(c["useState"])([])),n=f()(a,2),r=n[0],l=n[1],i=Object(c["useState"])(h()().subtract(10,"days").format("YYYY-MM-DD")),m=f()(i,2),p=m[0],b=m[1],v=Object(c["useState"])(h()().subtract(1,"days").format("YYYY-MM-DD")),E=f()(v,2),Y=E[0],w=E[1],O=Object(c["useState"])([0]),g=f()(O,2),j=g[0],D=g[1],N=Object(c["useState"])([0]),_=f()(N,2),x=_[0],k=_[1],I=Object(c["useState"])([0]),L=f()(I,2),P=L[0],F=L[1],H=Object(c["useState"])([0]),A=f()(H,2),B=A[0],C=A[1],U=[B,j,P,x];Object(c["useEffect"])(function(){var e={branch:"\u67d3\u8272\u5206\u5382",metrics:"total_steam_cost,total_electricity_cost,total_water_cost,total_gas_cost",interval:"day",start:p,end:Y,menu:"home-screen"};function t(){return a.apply(this,arguments)}function a(){return a=o()(u.a.mark(function t(){var a,n,r;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["g"])(e);case 2:a=t.sent,a&&(n=[],r={total_electricity_cost:D,total_water_cost:k,total_gas_cost:F,total_steam_cost:C},a.data.forEach(function(e){if(r.hasOwnProperty(e.metric)){var t=[];n=[],e.dps.forEach(function(e){n.push(e[0].substring(5,10)),t.push(e[1]?e[1].toFixed(2):0)}),r[e.metric](t),l(n)}}));case 4:case"end":return t.stop()}},t)})),a.apply(this,arguments)}t()},[Y]);var z=function(e,t){b(h()().subtract(e,"days").format("YYYY-MM-DD")),w(h()().subtract(t,"days").format("YYYY-MM-DD"))};Object(c["useEffect"])(function(){return M=Object(S["a"])(M,Y,De,function(){return z(10,1)}),function(){clearInterval(M)}},[]);var T=function(){return Me.map(function(e,t){return{name:e,data:U[t],type:"bar",stack:!0,color:Se[t]}})},V={yAxis_name:[""],unit:"\u5143",xAxis:r,legend:Me,chart:T()},q=y({title:"\u65e5\u80fd\u8017(\u5143)",chartData:V});return s.a.createElement(s.a.Fragment,null,q)},_e="\u534e\u7eba",xe=_e?_e+"\u6570\u5b57\u5370\u67d3":"",ke=xe,Ie=a("1Pzi"),Le=a("Yujw"),Pe=Object(v["a"])({scriptUrl:"/fonts/iconfont/iconfont.js"});t["default"]=Object(K["connect"])(function(e){var t=e.siderMenus;return{menuPermission:t.menuPermission,permission:t.permission}})(function(e){var t=e.menuPermission,a=(e.permission,Object(Ie["b"])(t,"plant-screen"));return a?s.a.createElement("div",{className:"screen"},s.a.createElement(r["a"],{className:"screen-title"},s.a.createElement("div",{className:"title-left"},s.a.createElement("div",{className:"back",onClick:function(){return Q.a.push("/cockpit/dashboard")}},s.a.createElement(Pe,{type:"icon-fanhuijian",style:{fontSize:14}})),s.a.createElement("div",{style:{float:"left",color:"#9bc7ff",fontSize:14,lineHeight:"32px"}},ke)),s.a.createElement("div",{className:"title"},"BinMade\u7eba\u7ec7\u667a\u80fd\u5236\u9020\u5e73\u53f0"),s.a.createElement("div",{className:"title-right"},s.a.createElement(ne,null))),s.a.createElement(r["a"],{className:"screen-content"},s.a.createElement(n["a"],{span:7,className:"content-left"},s.a.createElement(r["a"],{className:"row-item"},s.a.createElement(fe,null)),s.a.createElement(r["a"],{className:"row-item"},s.a.createElement(ie,null)),s.a.createElement(r["a"],{className:"row-item"},s.a.createElement(I,null))),s.a.createElement(n["a"],{span:10,className:"content-center"},s.a.createElement(r["a"],{className:"row-item-15"},s.a.createElement(F,null)),s.a.createElement(r["a"],{className:"row-item-30"},s.a.createElement(Ye,null)),s.a.createElement(r["a"],{className:"row-item-30"},s.a.createElement(ae,null)),s.a.createElement(r["a"],{className:"row-item-25"},s.a.createElement(je,null))),s.a.createElement(n["a"],{span:7,className:"content-right"},s.a.createElement(r["a"],{className:"row-item"},s.a.createElement(Ne,null)),s.a.createElement(r["a"],{className:"row-item"},s.a.createElement(P,null))))):s.a.createElement(Le["default"],null)})},BKUS:function(e,t,a){}}]);