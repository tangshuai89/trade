(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"+3T6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"key",theme:"outline",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]}};t.default=n},"2hfb":function(e,t,a){},A8du:function(e,t,a){"use strict";a.r(t);var n=a("d6i3"),r=a.n(n),s=(a("+L6B"),a("2/Rp")),c=(a("sRBo"),a("kaz8")),o=(a("5NDa"),a("5rEg")),i=(a("fOrg"),a("+KLJ")),l=a("1l/V"),u=a.n(l),m=a("qIgq"),p=a.n(m),d=a("q1tI"),b=a.n(d),f=(a("2hfb"),a("3a4m")),g=a.n(f),h=a("sy1d"),y=a("ju8E");function w(e){return E.apply(this,arguments)}function E(){return E=u()(r.a.mark(function e(t){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h["b"])(Object(y["a"])("/taps/mall-passport/v1/login/usernameAndPasswd"),{method:"POST",body:t}));case 1:case"end":return e.stop()}},e)})),E.apply(this,arguments)}var j=a("MNWE"),O=a("cJ7L"),k=a("+3T6"),v=a.n(k),S=a("6VBw"),x=function(e){return b.a.createElement(S["a"],Object.assign({},e,{icon:v.a}))},_=x,N=a("sQQd"),I=a("MuoO");t["default"]=Object(I["connect"])(function(e){e.siderMenus;return{}})(function(e){var t=e.dispatch,a=Object(d["useState"])(""),n=p()(a,2),l=n[0],m=n[1],f=Object(d["useState"])(""),h=p()(f,2),y=h[0],E=h[1],k=Object(d["useState"])(-1),v=p()(k,2),S=v[0],x=v[1],I=Object(d["useState"])(!1),P=p()(I,2),B=P[0],C=P[1],M=["yj","jm"],T=Object(d["useState"])(!1),A=p()(T,2),J=A[0],q=A[1];function z(){return D.apply(this,arguments)}function D(){return D=u()(r.a.mark(function e(){var a,n,s,c;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(q(!0),a={username:l,passwd:y},S>0&&(a.token_max_age=30),!l||!y){e.next=10;break}return e.next=6,w(a);case 6:n=e.sent,n&&n.token?(localStorage.setItem("token",n.token),localStorage.setItem("tokenExpiredTime",n.expires),Object(j["a"])(n,"user.userprofile.is_admin")&&localStorage.setItem("is_admin",n.user.userprofile.is_admin),Object(j["a"])(n,"user.id")&&localStorage.setItem("user_id",n.user.id),s=Object(N["b"])("user_id"),c=Object(N["b"])("is_admin"),t&&s&&t({type:"siderMenus/getPermission",payload:{id:s,isAdmin:c}}),"[object Object]"===Object.prototype.toString.call(n)&&n.hasOwnProperty("tenant")&&(localStorage.setItem("tenant",n.tenant),M.includes(n.tenant)?g.a.push("/homePage"):g.a.push("/cockpit/dashboard")),g.a.push("/cockpit/dashboard")):C(!0),e.next=11;break;case 10:C(!0);case 11:q(!1);case 12:case"end":return e.stop()}},e)})),D.apply(this,arguments)}var K=function(e){13===e.keyCode&&z()},L=function(e){e.target.checked?x(30):x(-1)};return b.a.createElement("div",{className:"login"},b.a.createElement("div",{className:"logo"}),b.a.createElement("div",{className:"form-wapper"},b.a.createElement("div",{className:"title"},"\u8d26\u53f7\u767b\u5f55"),b.a.createElement("ul",{className:"input-list"},b.a.createElement("li",{style:{marginBottom:10}},b.a.createElement(i["a"],{className:B?"":"hidden",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d\u53ca\u5bc6\u7801",type:"error",showIcon:!0})),b.a.createElement("li",null,b.a.createElement(o["a"],{placeholder:"\u8d26\u53f7",onChange:function(e){return m(e.target.value)},onKeyDown:K,prefix:b.a.createElement(O["a"],{style:{color:"rgba(0,0,0,.25)"}})})),b.a.createElement("li",{style:{marginBottom:"0"}},b.a.createElement(o["a"].Password,{placeholder:"\u5bc6\u7801",onChange:function(e){return E(e.target.value)},onKeyDown:K,onPressEnter:z,prefix:b.a.createElement(_,{style:{color:"rgba(0,0,0,.25)"}})})),b.a.createElement("p",{style:{marginTop:10}},b.a.createElement(c["a"],{checked:30===S,onChange:L},"30\u5929\u5185\u81ea\u52a8\u767b\u5f55"))),b.a.createElement(s["a"],{type:"primary",loading:J,className:"submit-button",onClick:z},"\u767b\u5f55")))})}}]);